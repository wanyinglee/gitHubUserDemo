"use strict";angular.module("taigerAppApp",["taigerAppApp.controllers","taigerAppApp.services","ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/:username",{templateUrl:"views/projects.html",controller:"ProjectCtrl",controllerAs:"projects"}).when("/:username/:projectid",{templateUrl:"views/readme.html",controller:"ReadMeCtrl",controllerAs:"readme"}).otherwise({redirectTo:"/"})}]),angular.module("taigerAppApp.controllers",[]).controller("MainCtrl",["$scope","$rootScope","$location","gitHubUserService","userDataService",function(a,b,c,d,e){b.title="Home",a.getUsersProjects=function(a){d.getUserProjects(a).then(function(b){b.data?(e.setRepoData(b.data),c.path("/"+a)):alert("No Repos Found!")},function(a){alert("User Not Found!")})}}]),angular.module("taigerAppApp.controllers").controller("ProjectCtrl",["$scope","$rootScope","$location","$routeParams","gitHubUserService","userDataService",function(a,b,c,d,e,f){a.reposData=f.getRepoData(),b.title=d.username+"'s Projects",a.getProjectReadMe=function(a){e.getReadMeContent(a).then(function(b){200===b.status?(f.setReadMeFile(b.data),c.path("/"+a.full_name)):alert("No README file found!")},function(a){alert("No README file found!")})}}]),angular.module("taigerAppApp.controllers").controller("ReadMeCtrl",["$scope","$sce","$rootScope","$routeParams","userDataService",function(a,b,c,d,e){c.title=d.projectid,a.parseMD=function(a){return marked(a)},a.readmeHtml=b.trustAsHtml(a.parseMD(e.getReadMeFile()))}]),angular.module("taigerAppApp.services",[]).factory("gitHubUserService",["$http",function(a){var b={};return b.getUserProjects=function(b){return a({method:"GET",url:"https://api.github.com/users/"+b+"/repos",headers:{Accept:"application/vnd.github.inertia-preview+json"}})},b.getReadMeContent=function(b){return a({method:"GET",url:"https://api.github.com/repos/"+b.full_name+"/readme",headers:{Accept:"application/vnd.github.v3.raw"}})},b}]),angular.module("taigerAppApp.services").factory("userDataService",function(){var a=null,b=null;return{getRepoData:function(){return a},setRepoData:function(b){a=b},getReadMeFile:function(){return b},setReadMeFile:function(a){b=a}}}),angular.module("taigerAppApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="jumbotron"> <p class="lead">Please enter your username: <input ng-model="username"> </p> <p><input class="btn btn-lg" role="button" value="Next" ng-click="getUsersProjects(username)"></p> </div>'),a.put("views/projects.html",'<div class="repo-box" ng-repeat="repo in reposData"> <input value="{{repo.name}}" readonly class="btn btn-lg" role="button" ng-click="getProjectReadMe(repo)"> </div>'),a.put("views/readme.html",'<div ng-bind-html="readmeHtml"></div>')}]);